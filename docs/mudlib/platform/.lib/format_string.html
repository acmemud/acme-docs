<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title></title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<div class="topNav"><a name="navbar_top">
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>Acme MUD<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../../index.html?/platform/.lib/format_string.html" target="_top">Frames</a></li>
<li><a href="../../../platform/.lib/format_string.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">/platform/.lib/format_string</div>
<h2 title="Program FormatStringLib " class="title">Program FormatStringLib </h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Inherited Programs:</dt>
<dd>
<ul class="tree"><li><a href="../../platform/.lib/argument.html" title="">ArgumentLib </a>&nbsp;[private]
<ul class="tree"><li><a href="../../platform/.lib/string.html" title="">StringLib </a>&nbsp;[private]
<ul class="tree"><li class="last"><a href="../../platform/.lib/array.html" title="">ArrayLib </a>&nbsp;[private]
</li></ul></li><li class="last"><a href="../../platform/.lib/array.html" title="">ArrayLib </a>&nbsp;[private]
</li></ul></li><li><a href="../../platform/.lib/array.html" title="">ArrayLib </a>&nbsp;[private]
</li><li><a href="../../platform/.lib/string.html" title="">StringLib </a>&nbsp;[private]
<ul class="tree"><li class="last"><a href="../../platform/.lib/array.html" title="">ArrayLib </a>&nbsp;[private]
</li></ul></li><li class="last"><a href="../../platform/.lib/closure.html" title="">ClosureLib </a>&nbsp;[private]
</li></ul></dd>
</dl>
<hr>
<br>
<div class="block">Utility library for parsing format strings into runnable lambda closures.</div>
<!-- 
<dl><dt><span class="strong">See Also:</span></dt><dd>
<a href="../...html#toString()"><code>->toString()</code></a>
</dd></dl>
-->
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Function Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Function Summary table, listing functions, and an explanation">
<caption><span>Functions</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Function and Description</th>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected&nbsp;varargs&nbsp;string&nbsp;*</code></td>
<td class="colLast"><code><strong><a href="../../platform/.lib/format_string.html#explode_format()">explode_format</a></strong>(string&nbsp;str,&nbsp;string&nbsp;delim,&nbsp;string&nbsp;open,&nbsp;string&nbsp;close)</code>
<div class="block">Explode a string into substrings by a delimiter, ignoring any escaped
delimiters, and delimiters nested within format parameters.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected&nbsp;closure&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../platform/.lib/format_string.html#parse_format()">parse_format</a></strong>(string&nbsp;format,&nbsp;mapping&nbsp;infomap,&nbsp;symbol *args)</code>
<div class="block">Compile a format string into a formatter closure with the given format
specifiers and args.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_/platform/.lib/argument">
</a>
<h3>Functions inherited from program&nbsp;<a href="../../platform/.lib/argument.html" title="program /platform/.lib/argument">ArgumentLib </a></h3>
<code><a href="../../platform/.lib/argument.html#explode_args()">explode_args</a>, <a href="../../platform/.lib/argument.html#explode_nested()">explode_nested</a>, <a href="../../platform/.lib/argument.html#explode_unescaped()">explode_unescaped</a>, <a href="../../platform/.lib/argument.html#find_close_char()">find_close_char</a></code></li>

</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_/platform/.lib/string">
</a>
<h3>Functions inherited from program&nbsp;<a href="../../platform/.lib/string.html" title="program /platform/.lib/string">StringLib </a></h3>
<code><a href="../../platform/.lib/string.html#crop_string()">crop_string</a>, <a href="../../platform/.lib/string.html#find_nonws()">find_nonws</a>, <a href="../../platform/.lib/string.html#is_escaped()">is_escaped</a>, <a href="../../platform/.lib/string.html#match_quote()">match_quote</a>, <a href="../../platform/.lib/string.html#search_str_unescaped()">search_str_unescaped</a>, <a href="../../platform/.lib/string.html#unescape()">unescape</a>, <a href="../../platform/.lib/string.html#unquote()">unquote</a></code></li>

</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_/platform/.lib/array">
</a>
<h3>Functions inherited from program&nbsp;<a href="../../platform/.lib/array.html" title="program /platform/.lib/array">ArrayLib </a></h3>
<code><a href="../../platform/.lib/array.html#anti_searcha()">anti_searcha</a>, <a href="../../platform/.lib/array.html#anti_searcha_any()">anti_searcha_any</a>, <a href="../../platform/.lib/array.html#deep_flatten_array()">deep_flatten_array</a>, <a href="../../platform/.lib/array.html#flatten_array()">flatten_array</a>, <a href="../../platform/.lib/array.html#m_value()">m_value</a>, <a href="../../platform/.lib/array.html#mapping_array()">mapping_array</a>, <a href="../../platform/.lib/array.html#random_key()">random_key</a>, <a href="../../platform/.lib/array.html#reduce()">reduce</a>, <a href="../../platform/.lib/array.html#searcha()">searcha</a>, <a href="../../platform/.lib/array.html#searcha_any()">searcha_any</a>, <a href="../../platform/.lib/array.html#unique_array()">unique_array</a></code></li>

</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_/platform/.lib/closure">
</a>
<h3>Functions inherited from program&nbsp;<a href="../../platform/.lib/closure.html" title="program /platform/.lib/closure">ClosureLib </a></h3>
<code><a href="../../platform/.lib/closure.html#reconstruct_lambda()">reconstruct_lambda</a></code></li>

</ul>

</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Function Detail</h3>
<a name="parse_format()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse_format</h4>
<pre>protected&nbsp;closure&nbsp;parse_format(string&nbsp;format,&nbsp;mapping&nbsp;infomap,&nbsp;symbol *args)</pre>
<div class="block">Compile a format string into a formatter closure with the given format
specifiers and args. Format strings may contain tokens of the format "%c"
where 'c' is some alphabetic character. They may also take arguments in
the format of "%c{arg}". For every format specifier found, the returned
closure will run the closure found for the character in infomap (the
character is the key) and replace the format specifier with the result of
the evaluated closure. Closures may reference the optional arg value with
the symbol 'arg. They may also reference any arguments passed to the
closure at runtime with the symbols defined in the args parameter. (Values
for these arguments must be supplied by the caller at runtime!) References
to the closure arguments in infomap must be double quoted even though
they are single quoted in the args parameter.
Invoking the result of this function will return the format string with
all constituent format specifiers replaced by the result of their closure
calls. Example:
closure formatter =
parse_format_string(
"name: %N",        // format string
([ 'N' : ({ 0,     // default value for 'arg
"%s",  // sprintf() format string of result
({     // array of closures to call
// results will be passed as args to sprintf()
({ #'call_other, ''who, "query_name" })
})
})
]),
({ 'who })         // formatter will take one arg named 'who
);
// this should write "devo"
write(funcall(formatter, FINDP("devo")));</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>format</code> - the format string to parse </dd>
<dd><code>infomap</code> - a map of format specifiers to the info array of how to replace the specifier </dd>
<dd><code>args</code> - optional args that will be passed to the formatter (single quoted) </dd>
<dt><span class="strong">Returns:</span></dt><dd>a formatter closure that takes specified args and will produce formatted strings according to infomap </dd>
</dl>
</li>
</ul>
<a name="explode_format()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>explode_format</h4>
<pre>protected&nbsp;varargs&nbsp;string&nbsp;*explode_format(string&nbsp;str,&nbsp;string&nbsp;delim,&nbsp;string&nbsp;open,&nbsp;string&nbsp;close)</pre>
<div class="block">Explode a string into substrings by a delimiter, ignoring any escaped
delimiters, and delimiters nested within format parameters. See
explode_nested().</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>str</code> - the string to explode </dd>
<dd><code>delim</code> - the string delimiting the substrings </dd>
<dd><code>open</code> - a string of OPEN characters; defaults to "\"([{" </dd>
<dd><code>close</code> - a string of CLOSE characters; defaults to "\")]}" </dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of strings separated by the delimiter </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ======== END OF CLASS DATA ======== -->
<div class="bottomNav"><a name="navbar_bottom">
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>Acme MUD<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../../index.html?/platform/.lib/format_string.html" target="_top">Frames</a></li>
<li><a href="../../../platform/.lib/format_string.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
</body>
</html>
