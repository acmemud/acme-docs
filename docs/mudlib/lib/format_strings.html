<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title></title>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<div class="topNav"><a name="navbar_top">
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>untitled gamification project<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../index.html?/lib/format_strings.html" target="_top">Frames</a></li>
<li><a href="../../lib/format_strings.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">/lib/format_strings</div>
<h2 title="Program FormatStringsLib " class="title">Program FormatStringsLib </h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Inherited Programs:</dt>
<dd>
<ul class="tree"><li><a href="../lib/args.html" title="">ArgsLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
<ul class="tree"><li><a href="../lib/strings.html" title="">StringsLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
<ul class="tree"><li class="last"><a href="../lib/array.html" title="">ArrayLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
</li></ul></li><li class="last"><a href="../lib/array.html" title="">ArrayLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
</li></ul></li><li><a href="../lib/strings.html" title="">StringsLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
<ul class="tree"><li class="last"><a href="../lib/array.html" title="">ArrayLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
</li></ul></li><li class="last"><a href="../lib/closure.html" title="">ClosureLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
</li></ul></dd>
</dl>
<hr>
<br>
<div class="block">Utility library for parsing format strings into runnable lambda closures.</div>
<!--
<dl><dt><span class="strong">See Also:</span></dt><dd>
<a href="...html#toString()"><code>->toString()</code></a>
</dd></dl>
-->
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Function Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Function Summary table, listing functions, and an explanation">
<caption><span>Functions</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Function and Description</th>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>public&nbsp;closure&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/format_strings.html#parse_format()">parse_format</a></strong>(string&nbsp;format,&nbsp;mapping&nbsp;infomap,&nbsp;symbol *args)</code>
<div class="block">Compile a format string into a formatter closure with the given format
specifiers and args.</div>
</td>
</tr>
</table>

</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Function Detail</h3>
<a name="parse_format()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse_format</h4>
<pre>public&nbsp;closure&nbsp;parse_format(string&nbsp;format,&nbsp;mapping&nbsp;infomap,&nbsp;symbol *args)</pre>
<div class="block">Compile a format string into a formatter closure with the given format
specifiers and args. Format strings may contain tokens of the format "%c"
where 'c' is some alphabetic character. They may also take arguments in
the format of "%c{arg}". For every format specifier found, the returned
closure will run the closure found for the character in infomap (the
character is the key) and replace the format specifier with the result of
the evaluated closure. Closures may reference the optional arg value with
the symbol 'arg. They may also reference any arguments passed to the
closure at runtime with the symbols defined in the args parameter. (Values
for these arguments must be supplied by the caller at runtime!) References
to the closure arguments in infomap must be double quoted even though
they are single quoted in the args parameter.
Invoking the result of this function will return the format string with
all constituent format specifiers replaced by the result of their closure
calls. Example:
closure formatter =
parse_format_string(
"name: %N",        // format string
([ 'N' : ({ 0,     // default value for 'arg
"%s",  // sprintf() format string of result
({     // array of closures to call
// results will be passed as args to sprintf()
({ #'call_other, ''who, "query_name" })
})
})
]),
({ 'who })         // formatter will take one arg named 'who
);
// this should write "devo"
write(funcall(formatter, FINDP("devo")));</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>format</code> - the format string to parse </dd>
<dd><code>infomap</code> - a map of format specifiers to the info array of how to replace the specifier </dd>
<dd><code>args</code> - optional args that will be passed to the formatter (single quoted) </dd>
<dt><span class="strong">Returns:</span></dt><dd>a formatter closure that takes specified args and will produce formatted strings according to infomap </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ======== END OF CLASS DATA ======== -->
<div class="bottomNav"><a name="navbar_bottom">
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>untitled gamification project<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../index.html?/lib/format_strings.html" target="_top">Frames</a></li>
<li><a href="../../lib/format_strings.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
</body>
</html>
