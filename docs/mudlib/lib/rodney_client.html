<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title></title>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<div class="topNav"><a name="navbar_top">
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>untitled gamification project<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../index.html?/lib/rodney_client.html" target="_top">Frames</a></li>
<li><a href="../../lib/rodney_client.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">/lib/rodney_client</div>
<h2 title="Program RodneyClientLib " class="title">Program RodneyClientLib </h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Inherited Programs:</dt>
<dd>
<ul class="tree"><li class="last"><a href="../lib/json.html" title="">JSONLib </a>&nbsp;[private&nbsp;variables&nbsp;private&nbsp;functions]
</li></ul></dd>
</dl>
<hr>
<br>
<div class="block">A library for objects to use which wish to communicate with the game's
external request portal, Rodney. All communication with Rodney is
asynchronous, and state will be maintained across request and responses
with the global variables in this lib. It you wish to share the same
TCP connection across different inheriting objects, you may inherit this
library virtually. This library also includes functions that are applied
externally by the ERQ, so they must not be inherited privately.</div>
<!--
<dl><dt><span class="strong">See Also:</span></dt><dd>
<a href="...html#toString()"><code>->toString()</code></a>
</dd></dl>
-->
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Function Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Function Summary table, listing functions, and an explanation">
<caption><span>Functions</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Function and Description</th>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>public&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#create()">create</a></strong>()</code>
<div class="block">Initialize state variables for processing messages and sending queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>public&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#flush_queue()">flush_queue</a></strong>()</code>
<div class="block">Attempt to flush the queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#open()">open</a></strong>()</code>
<div class="block">Asynchronously open a new connection to Rodney.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>public&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#open_callback()">open_callback</a></strong>(int *data,&nbsp;int&nbsp;size)</code>
<div class="block">Called open a successful open(), or when new messages are received from
the server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#rodney_query()">rodney_query</a></strong>(string&nbsp;query,&nbsp;closure&nbsp;callback,&nbsp;mixed *args)</code>
<div class="block">Send Rodney at query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#send()">send</a></strong>(string&nbsp;query)</code>
<div class="block">Asynchronously send a new query to Rodney.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>public&nbsp;void&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../lib/rodney_client.html#send_callback()">send_callback</a></strong>(int *data,&nbsp;int&nbsp;size)</code>
<div class="block">Called open a successful send().</div>
</td>
</tr>
</table>

</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Function Detail</h3>
<a name="create()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public&nbsp;void&nbsp;create()</pre>
<div class="block">Initialize state variables for processing messages and sending queries.</div>
<dl>
<dl>
</dl>
</li>
</ul>
<a name="open()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>protected&nbsp;void&nbsp;open()</pre>
<div class="block">Asynchronously open a new connection to Rodney.</div>
<dl>
<dl>
</dl>
</li>
</ul>
<a name="open_callback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open_callback</h4>
<pre>public&nbsp;void&nbsp;open_callback(int *data,&nbsp;int&nbsp;size)</pre>
<div class="block">Called open a successful open(), or when new messages are received from
the server. On opens, it will attempt to flush the queue. On new messages,
the response will be deserialized and dispatched to the proper transaction
callback.</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>data</code> - incoming data </dd>
<dd><code>size</code> - length of incoming packet </dd>
</dl>
</li>
</ul>
<a name="send()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>protected&nbsp;void&nbsp;send(string&nbsp;query)</pre>
<div class="block">Asynchronously send a new query to Rodney. This will automatically attempt
to flush the request queue.</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>query</code> - the query to send, which should usually be in the form of serialized JSON and include a transaction id </dd>
</dl>
</li>
</ul>
<a name="flush_queue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush_queue</h4>
<pre>public&nbsp;void&nbsp;flush_queue()</pre>
<div class="block">Attempt to flush the queue. Only one request will be sent at a time,
the send callback must be invoked before the next message will be sent.
This function will set the value of the <code>sending</code> variable to
the length of the message currently being sent, but the cursor won't move
until the callback is invoked.</div>
<dl>
<dl>
</dl>
</li>
</ul>
<a name="send_callback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send_callback</h4>
<pre>public&nbsp;void&nbsp;send_callback(int *data,&nbsp;int&nbsp;size)</pre>
<div class="block">Called open a successful send(). Upon success, it will attempt to the
flush the next message in the queue.</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>data</code> - incoming data </dd>
<dd><code>size</code> - length of incoming packet </dd>
</dl>
</li>
</ul>
<a name="rodney_query()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rodney_query</h4>
<pre>protected&nbsp;void&nbsp;rodney_query(string&nbsp;query,&nbsp;closure&nbsp;callback,&nbsp;mixed *args)</pre>
<div class="block">Send Rodney at query. This will initiate a single transaction that may
span several request and response loops. When the entire transaction is
complete, the reponse will be passed to the provided callback.</div>
<dl>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>query</code> - the query to send </dd>
<dd><code>callback</code> - callback closure to pass response </dd>
<dd><code>args</code> - optional extra args to the callback </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ======== END OF CLASS DATA ======== -->
<div class="bottomNav"><a name="navbar_bottom">
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_">
</a>
<ul class="navList" title="Navigation">
<div class="aboutLanguage"><em><strong>untitled gamification project<br/>version 0.1</strong></em></div>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>
<ul class="navList">
<li><a href="../../index.html?/lib/rodney_client.html" target="_top">Frames</a></li>
<li><a href="../../lib/rodney_client.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Programs</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#field_summary">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Function</a></li>
</ul>
</li>
<li>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Variable</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Function</a></li>
</ul>
</li>
</ul>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
</body>
</html>
